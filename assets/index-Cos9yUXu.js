import{u as O,j as e,T as c,G as j,C as W,a as k,b as B,B as f,c as ue,s as y,d as he,l as G,F as M,e as q,f as $,g as U,h as b,i as me,k as z,m as T,n as J,o as K,p as Z,S as m,q as w,A as pe,r as xe,I as Q,M as ge,t as je,v as fe,D as Se,w as ye,x as Ie,y as Ee,z as ve,L as v,E as H,H as C,J as R,K as Le,N as be,O as A,P as we,Q as De,R as V,U as _,V as Te,W as He,X as Ce,Y as Re,Z as Ae,_ as Y,$ as _e,a0 as S,a1 as Pe,a2 as Fe,a3 as Ne,a4 as Oe,a5 as We,a6 as ke,a7 as Be,a8 as Ge,a9 as Me,aa as qe}from"./vendor-Qh_6TJee.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const $e=[{name:"John Doe",leaveType:"Sick",startDate:"11/03/2025",endDate:"12/03/2025"},{name:"John Smith",leaveType:"Casual",startDate:"12/03/2025",endDate:"12/03/2025"}],Ue=()=>new Promise(t=>{setTimeout(()=>{t($e)},500)}),ze=()=>O({queryKey:["leaves_info"],queryFn:Ue}),Je=()=>{const{data:t,isPending:n}=ze();return e.jsxs(e.Fragment,{children:[e.jsx(c,{children:"Render data from mocked endpoint"}),e.jsx(j,{container:!0,spacing:4,justifyContent:n?"center":"start",mt:5,children:n||!t?e.jsx(W,{}):t.map(({name:a,leaveType:r},s)=>e.jsx(j,{columns:{xs:12,sm:6,md:4},children:e.jsx(k,{children:e.jsxs(B,{children:[e.jsx(c,{variant:"h6",children:a}),e.jsxs(c,{color:"textSecondary",children:["Leave Type: ",r]}),e.jsx(c,{color:"textSecondary",children:"Status: Pending"}),e.jsx(f,{variant:"contained",color:"primary",sx:{mt:2},children:"Approve"}),e.jsx(f,{variant:"outlined",color:"secondary",sx:{mt:2,ml:1},children:"Reject"})]})})},s))})]})},Ke=()=>e.jsx(Je,{}),x="/dashboard",X="/leave-req-form",ee="/leave-requests",Ze="/",te="/login",Qe="*",I="mocked_token",Ve={text:"Dashboard",path:x},ne={text:"Leave Request Form",path:X},se={text:"Leave Requests",path:ee},Ye=[Ve,ne,se],Xe=[ne,se],et=[{label:"Sick",value:"Sick"},{label:"Casual",value:"casual"},{label:"Earned and Paid",value:"Earned and Paid"}],re=()=>localStorage.getItem(I),ae={WHITE:"#FFFFFF",BLACK:"#000000"},i={FAMILY:{OPEN_SANS:["Open Sans Variable","sans-serif"].join(",")},LINE_HEIGHT:"136.4%",WEIGHT:{REGULAR:400,MEDIUM:500,BOLD:700},SIZES:{28:"1.75rem",24:"1.5rem",22:"1.375rem",20:"1.25rem",16:"1rem",14:"0.875rem"},LINE_HEIGHTS:{19:"1.188rem"}},tt={fontFamily:i.FAMILY.OPEN_SANS,h1:{fontSize:i.SIZES[28],lineHeight:i.LINE_HEIGHT,fontWeight:i.WEIGHT.BOLD},h2:{fontSize:i.SIZES[24],lineHeight:i.LINE_HEIGHT,fontWeight:i.WEIGHT.MEDIUM},h3:{fontSize:i.SIZES[22],lineHeight:i.LINE_HEIGHT,fontWeight:i.WEIGHT.BOLD},h4:{fontSize:i.SIZES[20],lineHeight:i.LINE_HEIGHT,fontWeight:i.WEIGHT.REGULAR},h5:{fontSize:i.SIZES[16],lineHeight:i.LINE_HEIGHT,fontWeight:i.WEIGHT.REGULAR},h6:{fontSize:i.SIZES[14],lineHeight:i.LINE_HEIGHT,fontWeight:i.WEIGHT.REGULAR}},nt=.375,st=ue({spacing:t=>`${nt*t}rem`,typography:tt}),rt=y(he)(({theme:t})=>`
    width: 100%;
    margin-top: ${t.spacing(1)};
    margin-bottom: ${t.spacing(.5)};
  
    border: none !important;
    border-radius: 0.25rem;
  
    .MuiInputBase-root {
      height: 100%;
    }
  
    .MuiInputBase-input {
      color: ${ae.BLACK};
      font-weight: ${i.WEIGHT.REGULAR};
      font-size: ${i.SIZES[14]};
      line-height: ${i.LINE_HEIGHTS[19]};
      padding: 0 inherit !important;
      
    }

    .MuiFormHelperText-root {
        margin-left: 0;
    }
  `),g=({name:t,errors:n,control:a,formControlSXProps:r,...s})=>{const o=G.get(n,t),l=!!(n&&o);return e.jsx(M,{fullWidth:!0,sx:{...r},children:e.jsx(q,{name:t,control:a,render:({field:{onChange:d,value:u,...p}})=>{var h;return e.jsx(rt,{...p,error:l,helperText:(h=o==null?void 0:o.message)==null?void 0:h.toString(),type:"text",onChange:d,value:u||"",...s})}})})},at={message:null,type:null},oe=$({name:"toast",initialState:at,reducers:{showToast:(t,n)=>{t.message=n.payload.message,t.type=n.payload.type},clearToast:t=>{t.message=null,t.type=null}}}),{showToast:D,clearToast:ot}=oe.actions,it=U({email:b().email("Please enter a valid email").required("Please enter your email"),password:b().required("Please enter your password")}),ie=[{email:"jagadish@admin.com",password:"admin",name:"Jagadish",role:"admin",phone:1234567890,address:"Bangalore"},{email:"saurab@admin.com",password:"admin",name:"Saurab",role:"admin",phone:1234567890,address:"Bangalore"}],lt=t=>{const n={alg:"HS256",typ:"JWT"},a={email:t,iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600},r=s=>btoa(JSON.stringify(s)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");return`${r(n)}.${r(a)}`},ct=t=>{try{const[,n]=t.split(".");return JSON.parse(atob(n.replace(/-/g,"+").replace(/_/g,"/")))}catch(n){return console.error("Invalid token",n),null}},dt=async t=>new Promise((n,a)=>{setTimeout(()=>{const r=ie.find(s=>s.email===t.email&&s.password===t.password);if(!r){a({message:"Invalid email or password"});return}n({token:lt(r.email)})},1e3)}),ut=()=>me({mutationFn:dt}),ht=()=>{const t=z(),n=T(),{mutate:a,isPending:r}=ut(),s=J({resolver:K(it),mode:"onChange"}),o=l=>{a(l,{onSuccess:({token:d})=>{localStorage.setItem(I,d),n(D({message:"Logged In Successfully!!!",type:"success"})),t("/login")},onError:d=>{n(D({message:d.message,type:"error"}))}})};return e.jsx(Z,{maxWidth:"xs",children:e.jsx(m,{alignItems:"center",justifyContent:"center",minHeight:"100vh",children:e.jsxs(m,{alignItems:"center",spacing:2,border:"1px solid",p:2,width:"100%",children:[e.jsx(c,{variant:"h5",gutterBottom:!0,children:"Login"}),e.jsxs(w,{width:"100%",component:"form",children:[e.jsx(g,{fullWidth:!0,label:"Email",variant:"outlined",margin:"normal",type:"email",name:"email",control:s.control,errors:s.formState.errors}),e.jsx(g,{fullWidth:!0,label:"Password",type:"password",variant:"outlined",margin:"normal",name:"password",control:s.control,errors:s.formState.errors}),e.jsx(f,{variant:"contained",color:"primary",fullWidth:!0,onClick:s.handleSubmit(o),sx:{mt:2},type:"submit",disabled:!s.formState.isValid||r,children:r?"Logging In ....":"Login"})]})]})})})},mt=()=>e.jsx(ht,{}),pt=()=>e.jsx(e.Fragment,{children:"Footer"}),P=240,xt=y(pe,{shouldForwardProp:t=>t!=="open"})(({theme:t})=>({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),variants:[{props:({open:n})=>n,style:{marginLeft:P,width:`calc(100% - ${P}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}}]})),gt=({open:t,data:n,isPending:a,isSuccess:r,handleDrawerOpen:s})=>{var o;return e.jsx(xt,{position:"fixed",open:t,children:e.jsxs(xe,{children:[e.jsx(Q,{color:"inherit","aria-label":"open drawer",onClick:s,edge:"start",sx:[{marginRight:5},t&&{display:"none"}],children:e.jsx(ge,{})}),e.jsxs(m,{direction:"row",width:"100%",justifyContent:"end",alignItems:"center",spacing:1,children:[e.jsx(je,{children:r?(o=n==null?void 0:n.name)==null?void 0:o[0]:""}),e.jsx(c,{variant:"h6",noWrap:!0,component:"div",children:a?e.jsx(fe,{width:"3rem",sx:{backgroundColor:ae.WHITE}}):(n==null?void 0:n.name)||""})]})]})})},le=240,F=t=>({width:le,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),overflowX:"hidden"}),N=t=>({transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${t.spacing(7)} + 1px)`,[t.breakpoints.up("sm")]:{width:`calc(${t.spacing(8)} + 1px)`}}),ce=y("div")(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1),...t.mixins.toolbar})),jt=y(Se,{shouldForwardProp:t=>t!=="open"})(({theme:t})=>({width:le,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",variants:[{props:({open:n})=>n,style:{...F(t),"& .MuiDrawer-paper":F(t)}},{props:({open:n})=>!n,style:{...N(t),"& .MuiDrawer-paper":N(t)}}]})),ft=({open:t,data:n,isPending:a,handleDrawerClose:r})=>{const s=ye(),o=z(),l=()=>{localStorage.removeItem(I),o("/login")},d=u=>({backgroundColor:location.pathname===u?s.palette.action.selected:"inherit",borderRadius:"8px"});return e.jsxs(jt,{variant:"permanent",open:t,children:[e.jsx(ce,{children:e.jsx(Q,{onClick:r,children:s.direction==="rtl"?e.jsx(Ie,{}):e.jsx(Ee,{})})}),e.jsx(ve,{}),a||!n?e.jsx(v,{sx:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"},children:e.jsx(W,{})}):e.jsxs(e.Fragment,{children:[e.jsx(v,{children:(n.role==="admin"?Ye:Xe).map(({text:u,path:p},h)=>e.jsx(H,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(C,{sx:{minHeight:48,px:2.5,justifyContent:t?"initial":"center",...d(p)},onClick:()=>o(p),children:[e.jsx(R,{sx:{minWidth:0,justifyContent:"center",mr:t?3:"auto"},children:h%2===0?e.jsx(Le,{}):e.jsx(be,{})}),e.jsx(A,{primary:u,sx:{opacity:t?1:0}})]})},u))}),e.jsx(v,{sx:{position:"absolute",bottom:0,width:"100%"},children:e.jsx(H,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(C,{sx:{minHeight:48,px:2.5,justifyContent:t?"initial":"center"},onClick:l,children:[e.jsx(R,{sx:{minWidth:0,justifyContent:"center",mr:t?3:"auto"},children:e.jsx(we,{})}),e.jsx(A,{primary:"Logout",sx:{opacity:t?1:0}})]})})})]})]})},St=()=>{const t=localStorage.getItem(I);if(t)return new Promise((n,a)=>{setTimeout(()=>{const r=ct(t);if(!r){a("Invalid User !!");return}const s=ie.find(o=>o.email===r.email);if(!s){a("No user found !!");return}n(s)},500)})},yt=()=>O({queryKey:["user_info"],queryFn:St}),It=()=>{const[t,n]=De.useState(!1),{data:a,isPending:r,isSuccess:s}=yt(),o=()=>{n(!0)},l=()=>{n(!1)};return e.jsxs(w,{sx:{display:"flex"},children:[e.jsx(gt,{open:t,data:a,isPending:r,isSuccess:s,handleDrawerOpen:o}),e.jsx(ft,{open:t,data:a,isPending:r,handleDrawerClose:l}),e.jsxs(w,{component:"main",sx:{flexGrow:1,p:3},children:[e.jsx(ce,{}),e.jsx(V,{})]}),e.jsx(pt,{})]})},Et={requests:[]},de=$({name:"leave",initialState:Et,reducers:{addLeaveRequest:(t,n)=>{t.requests.push(n.payload)}}}),{addLeaveRequest:vt}=de.actions,Lt=U({name:b().required("Name is required").min(2,"Name must be at least 2 characters long").max(50,"Name must be at most 50 characters long"),leaveType:Te().default(null).nullable().defined().required("Leave type is required"),startDate:_().required("Start date is required").min(new Date,"Start date cannot be in the past"),endDate:_().required("End date is required").min(new Date,"End date cannot be before the start date")}),bt=({name:t,label:n,control:a,options:r,errors:s,...o})=>{const l=G.get(s,t),d=!!(s&&l);return e.jsx(q,{control:a,name:t,render:({field:{onChange:u,value:p}})=>{var h;return e.jsxs(M,{fullWidth:!0,children:[e.jsx(He,{id:"demo-simple-select-label",children:n}),e.jsx(Ce,{name:t,onChange:u,value:p||"",label:n,"aria-labelledby":`field-label-${t}`,error:d,...o,children:r.map(E=>e.jsx(Re,{value:E.value,children:e.jsxs("span",{children:[" ",E.label]})},E.value))}),e.jsx(Ae,{children:(h=l==null?void 0:l.message)==null?void 0:h.toString()})]})}})},wt=()=>{const t=T(),n=J({resolver:K(Lt),mode:"onChange"}),a=r=>{t(vt({name:r.name,leaveType:r.leaveType,startDate:new Date(r.startDate).toISOString(),endDate:new Date(r.endDate).toISOString()})),t(D({message:"Leave Updated Successfully!!!",type:"success"})),n.reset()};return e.jsxs(Z,{children:[e.jsx(c,{variant:"h4",children:"Apply for Leave"}),e.jsx("form",{children:e.jsxs(m,{spacing:2,mt:5,children:[e.jsx(g,{label:"Name",name:"name",fullWidth:!0,margin:"normal",control:n.control,errors:n.formState.errors}),e.jsx(bt,{label:"Leave Type","aria-placeholder":"sdfsd",name:"leaveType",control:n.control,errors:n.formState.errors,options:et,fullWidth:!0}),e.jsxs(m,{direction:"row",spacing:2,children:[e.jsx(g,{label:"Start Date",name:"startDate",type:"date",fullWidth:!0,margin:"normal",slotProps:{inputLabel:{shrink:!0}},control:n.control,errors:n.formState.errors}),e.jsx(g,{label:"End Date",name:"endDate",type:"date",fullWidth:!0,margin:"normal",slotProps:{inputLabel:{shrink:!0}},control:n.control,errors:n.formState.errors})]}),e.jsx(f,{type:"submit",variant:"contained",color:"primary",sx:{mt:2,width:"5rem"},onClick:n.handleSubmit(a),children:"Submit"})]})})]})},Dt=()=>{const t=Y(n=>n.leave.requests);return e.jsxs(m,{children:[e.jsx(c,{variant:"h4",children:"Leave Requests (Render data from redux)"}),t.length===0?e.jsx(c,{children:"No leave requests yet."}):e.jsx(m,{direction:"row",spacing:2,mt:5,children:t.map((n,a)=>e.jsx(j,{container:!0,spacing:4,justifyContent:"start",children:e.jsx(j,{columns:{xs:12,sm:6,md:4},children:e.jsx(k,{sx:{marginBottom:2},children:e.jsxs(B,{children:[e.jsx(c,{variant:"h6",children:n.name}),e.jsxs(c,{children:["Leave Type: ",n.leaveType]}),e.jsxs(c,{children:["Duration:"," ",new Date(n.startDate).toLocaleDateString()," to"," ",new Date(n.endDate).toLocaleDateString()]})]})})})},a))})]})},L=()=>re()?e.jsx(It,{}):e.jsx(S,{to:te}),Tt=()=>re()?e.jsx(S,{to:x}):e.jsx(V,{}),Ht=()=>_e([{path:Ze,element:e.jsx(S,{to:x,replace:!0})},{path:x,element:e.jsx(L,{}),children:[{index:!0,element:e.jsx(Ke,{})}]},{path:X,element:e.jsx(L,{}),children:[{index:!0,element:e.jsx(wt,{})}]},{path:ee,element:e.jsx(L,{}),children:[{index:!0,element:e.jsx(Dt,{})}]},{path:te,element:e.jsx(Tt,{}),children:[{index:!0,element:e.jsx(mt,{})}]},{path:Qe,element:e.jsx(S,{to:x,replace:!0})}]),Ct=Pe({reducer:{toast:oe.reducer,leave:de.reducer}}),Rt=()=>{const t=T(),{message:n,type:a}=Y(s=>s.toast),r=()=>{t(ot())};return e.jsx(Fe,{open:!!n,autoHideDuration:3e3,onClose:r,anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(Ne,{onClose:r,severity:a||"info",sx:{width:"100%"},children:n})})},At=new Oe,_t=()=>e.jsxs(We,{store:Ct,children:[e.jsx(Rt,{}),e.jsx(ke,{client:At,children:e.jsxs(Be,{theme:st,children:[e.jsx(Ge,{}),e.jsx(Me,{children:e.jsx(Ht,{})})]})})]});qe.createRoot(document.getElementById("root")).render(e.jsx(_t,{}));
//# sourceMappingURL=index-Cos9yUXu.js.map
